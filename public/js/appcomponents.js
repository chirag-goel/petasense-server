!function(){function t(t,e,r,n,a){r.html5Mode(!1),t.otherwise("/"),e.state("home",{url:"/",templateUrl:"app/home/home.view.tpl.html",controller:"HomeController",controllerAs:"home"}).state("vibrations",{url:"/vibrations",templateUrl:"app/vibrations/vibrations.view.tpl.html",controller:"VibrationsController",controllerAs:"vibrations",resolve:{login:["$in",function(t){return{}}]}}),n.interceptors.push("authInterceptor"),n.defaults.withCredentials=!0}function e(t,e,r){return{request:function(t){return t.headers=t.headers||{},t},response:function(t){return t},responseError:function(t){return 404===t.status?(r.path("/"),e.reject(t)):e.reject(t)}}}function r(t,e){}angular.module("boilerplate",["ui.router","ngLodash"]).config(t),t.$inject=["$urlRouterProvider","$stateProvider","$locationProvider","$httpProvider","$compileProvider"],angular.module("boilerplate").factory("authInterceptor",e),e.$inject=["$rootScope","$q","$location"],angular.module("boilerplate").run(r),r.$inject=["$rootScope","$location"]}(),function(){angular.module("boilerplate").constant("CONSTANTS",{API_URL:"/"})}(),function(){"use strict";function t(t,e){function r(t){this.id=t}return r.build=function(t){return new r(t.id)},r.buildCollection=function(t){return angular.isArray(t)?t.map(r.build):[]},r.apiResponseTransformer=function(t){return angular.isArray(t)?t.map(r.build):r.build(t)},r}angular.module("boilerplate").factory("Vibration",["$window","$rootScope",t])}(),function(){"use strict";function t(t){return{login:function(){return t.remote().Auth.login().then(function(){})}}}angular.module("boilerplate").factory("AuthLocalService",["$in",t])}(),function(){"use strict";function t(t){return{logger:function(t){return console.log(t)},formatAndSortedDataForLineGraph:function(t){return t.trend_data.data.map(function(e,r){return{value:t.trend_data.data[r],date:new Date(t.trend_data.time[r]).getTime()}}).sort(function(t,e){return t.date-e.date})},getVibrationData:function(e){return t.remote().Vibration.getVibrationData(e)}}}angular.module("boilerplate").factory("VibrationLocalService",["$in",t])}(),function(){"use strict";function t(t,e,r,n){function a(r,a,o,i){var l=e.defer(),c={method:r,url:n.API_URL+a,params:o,data:i};return t(c).then(function(t){t.config||console.log("Server error occured."),l.resolve(t)},function(t){l.reject(t)}),l.promise}return{post:function(t,e,r){return a("POST",t,e,r)},get:function(t,e){return a("GET",t,e)}}}angular.module("boilerplate").factory("ApiRemoteService",["$http","$q","$in","CONSTANTS",t])}(),function(){"use strict";function t(t,e,r,n){return{login:function(){var t="common/json/login.json",e={},n={username:"test@petasense.com",password:"pYEMZU3ggJj9u7XD"};return r.remote().API.post(t,e,n).then(function(t){})}}}angular.module("boilerplate").factory("AuthRemoteService",["$http","$q","$in","CONSTANTS",t])}(),function(){"use strict";function t(t,e,r,n){return{getVibrationData:function(t){var e="common/json/"+t+".json",n={axis:t};return r.remote().API.get(e,n).then(function(t){return t.data})}}}angular.module("boilerplate").factory("VibrationRemoteService",["$http","$q","$in","CONSTANTS",t])}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"common/directives/main-nav/main-nav.html"};return t}angular.module("boilerplate").directive("mainNav",t)}(),function(){"use strict";function t(){var t=["$scope","$in",function(t,e){function r(t,e){$.append("svg:path").datum(t).attr("class","line line-"+e+" color-"+e).attr("d",d)}function n(){m.select(".x.axis").call(v),m.select(".y.axis").call(b),m.select(".x.grid").call(g().tickSize(-l,0,0).tickFormat("")),m.select(".y.grid").call(h().tickSize(-i,0,0).tickFormat("")),t.tabs.forEach(function(t){m.select(".line-"+t.axis).attr("class","line line-"+t.axis+" color-"+t.axis).attr("d",d)})}function a(){var t=parseInt(d3.select("#chart").style("width"))-o.left-o.right,e=parseInt(d3.select("#chart").style("height"))-o.top-o.bottom;u.range([0,t]),p.range([e,0]),d3.select("#chart svg").attr("width",t+o.left+o.right),m.select(".x.axis").attr("transform","translate(0,"+e+")").call(u),m.select(".y.axis").call(p)}t.tabs.forEach(function(t){e.local().Vibration.getVibrationData(t.axis).then(function(n){n=e.local().Vibration.formatAndSortedDataForLineGraph(n),r(n,t.axis)})});var o={top:20,right:20,bottom:20,left:45},i=window.innerWidth-140-o.left-o.right,l=250-o.top-o.bottom,c=new Date,s=new Date;s.setFullYear(s.getFullYear()-1);var u=d3.time.scale().domain([s,c]).range([0,i]),p=d3.scale.linear().domain([0,1]).range([l,0]),d=d3.svg.line().interpolate("basis").x(function(t){return u(t.date)}).y(function(t){return p(t.value)}),f=d3.behavior.zoom().x(u).on("zoom",n),m=d3.select("#chart").append("svg:svg").attr("width",i+o.left+o.right).attr("height",l+o.top+o.bottom).append("svg:g").attr("transform","translate("+o.left+","+o.top+")").call(f);m.append("svg:rect").attr("width",i).attr("height",l).attr("class","plot");var g=function(){return d3.svg.axis().scale(u).orient("bottom").ticks(5)},h=function(){return d3.svg.axis().scale(p).orient("left").ticks(5)},v=d3.svg.axis().scale(u).orient("bottom").ticks(5);m.append("svg:g").attr("class","x axis").attr("transform","translate(0, "+l+")").call(v);var b=d3.svg.axis().scale(p).orient("left").ticks(5);m.append("g").attr("class","y axis").call(b),m.append("g").attr("class","x grid").attr("transform","translate(0,"+l+")").call(g().tickSize(-l,0,0).tickFormat("")),m.append("g").attr("class","y grid").call(h().tickSize(-i,0,0).tickFormat(""));var $=(m.append("svg:clipPath").attr("id","clip").append("svg:rect").attr("x",0).attr("y",0).attr("width",i).attr("height",l),m.append("g").attr("clip-path","url(#clip)"));d3.select(window).on("resize",a),a()}],e={restrict:"AE",templateUrl:"common/directives/line-graph/line-graph.html",scope:{tabs:"=?"},controller:t};return e}angular.module("boilerplate").directive("lineGraph",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"common/directives/responsive-nav/responsive-nav.html",link:function(t,e,r,n){e.on("click",function(t){$(".responsive-wrapper").slideToggle(150,"swing"),t.preventDefault()})}};return t}angular.module("boilerplate").directive("responsiveNav",t)}();